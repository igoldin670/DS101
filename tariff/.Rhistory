fill = "Country") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
# Visualization: Export vs Import Differences by Country
ggplot(trade_diff, aes(x = factor(year), y = Trade_Difference, fill = CTYNAME)) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(~CTYNAME, scales = "free_y") +
labs(title = "Annual Trade Difference (Exports - Imports) Between US and Trading Partners",
x = "Year",
y = "Trade Difference (Million USD)",
fill = "Country") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
cls
# Load necessary libraries
library(readxl)
library(ggplot2)
library(reshape2)
# Load your data (update the file path as necessary)
exports <- read_excel("trad-geo-time-series-0125.xlsx", sheet = "Table 1", skip = 5)
imports <- read_excel("trad-geo-time-series-0125.xlsx", sheet = "Table 2", skip = 5)
# Clean and select relevant data
exports <- exports[!is.na(exports$Period) & grepl("^[0-9]{4}$", exports$Period), ]
imports <- imports[!is.na(imports$Period) & grepl("^[0-9]{4}$", imports$Period), ]
selected_countries <- c('Period', 'Canada', 'China', 'Germany', 'European Union', 'Mexico', 'Japan')
exports <- exports[, selected_countries]
imports <- imports[, selected_countries]
# Calculate trade balance
trade_balance <- exports
trade_balance[,-1] <- exports[,-1] - imports[,-1]
# Reshape data for plotting
trade_balance_long <- melt(trade_balance, id.vars = 'Period', variable.name = 'Country', value.name = 'Balance')
# Convert Period to numeric for plotting
trade_balance_long$Period <- as.numeric(trade_balance_long$Period)
# Plot the trade balance
trade_plot <- ggplot(trade_balance_long, aes(x = Period, y = Balance, color = Country)) +
geom_line() +
geom_point() +
geom_hline(yintercept = 0, linetype = "dashed", color = "black") +
labs(title = "U.S. Annual Trade Balance by Country (Exports - Imports)",
x = "Year",
y = "Trade Balance (Millions of Dollars)") +
theme_minimal()
# Display the plot
print(trade_plot)
# Load necessary libraries
library(readxl)
library(ggplot2)
library(reshape2)
# Load your data (update the file path as necessary)
exports <- read_excel("trad-geo-time-series-0125.xlsx", sheet = "Table 1", skip = 5)
imports <- read_excel("trad-geo-time-series-0125.xlsx", sheet = "Table 2", skip = 5)
# Clean and select relevant data
exports <- exports[!is.na(exports$Period) & grepl("^[0-9]{4}$", exports$Period), ]
imports <- imports[!is.na(imports$Period) & grepl("^[0-9]{4}$", imports$Period), ]
selected_countries <- c('Period', 'Canada', 'China', 'Germany', 'European Union', 'Mexico', 'Japan')
exports_selected <- exports[, selected_countries]
imports_selected <- imports[, selected_countries]
# Calculate trade balance
trade_balance <- exports_selected
trade_balance[,-1] <- exports_selected[,-1] - imports_selected[,-1]
# Reshape data for plotting
exports_long <- melt(exports_selected, id.vars = 'Period', variable.name = 'Country', value.name = 'Exports')
imports_long <- melt(imports_selected, id.vars = 'Period', variable.name = 'Country', value.name = 'Imports')
trade_balance_long <- melt(trade_balance, id.vars = 'Period', variable.name = 'Country', value.name = 'Balance')
# Convert Period to numeric for plotting
exports_long$Period <- as.numeric(exports_long$Period)
imports_long$Period <- as.numeric(imports_long$Period)
trade_balance_long$Period <- as.numeric(trade_balance_long$Period)
# Plot exports
plot_exports <- ggplot(exports_long, aes(x = Period, y = Exports, color = Country)) +
geom_line() + geom_point() +
labs(title = "U.S. Annual Exports by Country", x = "Year", y = "Exports (Millions of Dollars)") +
theme_minimal()
# Plot imports
plot_imports <- ggplot(imports_long, aes(x = Period, y = Imports, color = Country)) +
geom_line() + geom_point() +
labs(title = "U.S. Annual Imports by Country", x = "Year", y = "Imports (Millions of Dollars)") +
theme_minimal()
# Plot trade balance
plot_balance <- ggplot(trade_balance_long, aes(x = Period, y = Balance, color = Country)) +
geom_line() + geom_point() + geom_hline(yintercept = 0, linetype = "dashed", color = "black") +
labs(title = "U.S. Annual Trade Balance by Country (Exports - Imports)", x = "Year", y = "Balance (Millions of Dollars)") +
theme_minimal()
# Display all plots
print(plot_exports)
print(plot_imports)
print(plot_balance)
# Install and load necessary packages
if (!require(ggplot2)) install.packages("ggplot2", dependencies=TRUE)
library(ggplot2)
# Data frame creation
trade_deficits <- data.frame(
Country_Region = c("Total Balance of Payments Basis", "Total Census Basis", "Pacific Rim Countries", "Europe", "China", "North America", "European Union", "Other Countries", "Switzerland", "Euro Area"),
Balance = c(-154481.0, -153281.0, -60334.0, -46524.0, -31738.0, -25630.0, -23281.0, -22673.0, -22122.0, -21212.0)
)
# Visualization
ggplot(trade_deficits, aes(x = reorder(Country_Region, Balance), y = Balance)) +
geom_bar(stat = 'identity', fill = 'coral') +
coord_flip() +
labs(title = 'Top 10 U.S. Trade Deficits by Country (January 2025)',
x = 'Country/Region',
y = 'Trade Balance (Millions of USD)') +
theme_minimal() +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
axis.text.y = element_text(size = 10))
# Load necessary libraries
library(readxl)
library(ggplot2)
# Load necessary libraries
library(readxl)
library(ggplot2)
library(reshape2)
# Load your data (update the file path as necessary)
exports <- read_excel("trad-geo-time-series-0125.xlsx", sheet = "Table 1", skip = 5)
imports <- read_excel("trad-geo-time-series-0125.xlsx", sheet = "Table 2", skip = 5)
# Clean and select relevant data
exports <- exports[!is.na(exports$Period) & grepl("^[0-9]{4}$", exports$Period), ]
imports <- imports[!is.na(imports$Period) & grepl("^[0-9]{4}$", imports$Period), ]
selected_countries <- c('Period', 'Canada', 'China', 'Germany', 'European Union', 'Mexico', 'Japan')
exports_selected <- exports[, selected_countries]
imports_selected <- imports[, selected_countries]
# Calculate trade balance
trade_balance <- exports_selected
trade_balance[,-1] <- exports_selected[,-1] - imports_selected[,-1]
# Reshape data for plotting
exports_long <- melt(exports_selected, id.vars = 'Period', variable.name = 'Country', value.name = 'Exports')
imports_long <- melt(imports_selected, id.vars = 'Period', variable.name = 'Country', value.name = 'Imports')
trade_balance_long <- melt(trade_balance, id.vars = 'Period', variable.name = 'Country', value.name = 'Balance')
# Convert Period to numeric for plotting
exports_long$Period <- as.numeric(exports_long$Period)
imports_long$Period <- as.numeric(imports_long$Period)
trade_balance_long$Period <- as.numeric(trade_balance_long$Period)
# Plot exports
plot_exports <- ggplot(exports_long, aes(x = Period, y = Exports, color = Country)) +
geom_line() + geom_point() +
labs(title = "U.S. Annual Exports by Country", x = "Year", y = "Exports (Millions of Dollars)") +
theme_minimal()
# Plot imports
plot_imports <- ggplot(imports_long, aes(x = Period, y = Imports, color = Country)) +
geom_line() + geom_point() +
labs(title = "U.S. Annual Imports by Country", x = "Year", y = "Imports (Millions of Dollars)") +
theme_minimal()
# Plot trade balance
plot_balance <- ggplot(trade_balance_long, aes(x = Period, y = Balance, color = Country)) +
geom_line() + geom_point() + geom_hline(yintercept = 0, linetype = "dashed", color = "black") +
labs(title = "U.S. Annual Trade Balance by Country (Exports - Imports)", x = "Year", y = "Balance (Millions of Dollars)") +
theme_minimal()
# Display all plots
print(plot_exports)
print(plot_imports)
print(plot_balance)
# Data frame creation
trade_deficits <- data.frame(
Country_Region = c("Total Balance of Payments Basis", "Total Census Basis", "Pacific Rim Countries", "Europe", "China", "North America", "European Union", "Other Countries", "Switzerland", "Euro Area"),
Balance = c(-154481.0, -153281.0, -60334.0, -46524.0, -31738.0, -25630.0, -23281.0, -22673.0, -22122.0, -21212.0)
)
# Visualization
ggplot(trade_deficits, aes(x = reorder(Country_Region, Balance), y = Balance)) +
geom_bar(stat = 'identity', fill = 'coral') +
coord_flip() +
labs(title = 'Top 10 U.S. Trade Deficits by Country (January 2025)',
x = 'Country/Region',
y = 'Trade Balance (Millions of USD)') +
theme_minimal() +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
axis.text.y = element_text(size = 10))
# Load necessary libraries
library(readxl)
library(ggplot2)
library(reshape2)
# === Load and clean data ===
# Read data from Excel (adjust path as needed)
exports <- read_excel("trad-geo-time-series-0125.xlsx", sheet = "Table 1", skip = 5)
imports <- read_excel("trad-geo-time-series-0125.xlsx", sheet = "Table 2", skip = 5)
# Filter for valid years only
valid_years <- function(df) {
df[!is.na(df$Period) & grepl("^[0-9]{4}$", df$Period), ]
}
exports <- valid_years(exports)
imports <- valid_years(imports)
# Select countries of interest
selected_countries <- c('Period', 'Canada', 'China', 'Germany', 'European Union', 'Mexico', 'Japan')
exports_selected <- exports[, selected_countries]
imports_selected <- imports[, selected_countries]
# === Calculate Trade Balance ===
trade_balance <- exports_selected
trade_balance[,-1] <- exports_selected[,-1] - imports_selected[,-1]
# === Reshape data for plotting ===
exports_long <- melt(exports_selected, id.vars = 'Period', variable.name = 'Country', value.name = 'Exports')
imports_long <- melt(imports_selected, id.vars = 'Period', variable.name = 'Country', value.name = 'Imports')
balance_long <- melt(trade_balance, id.vars = 'Period', variable.name = 'Country', value.name = 'Balance')
# Convert Period to numeric
exports_long$Period <- as.numeric(exports_long$Period)
imports_long$Period <- as.numeric(imports_long$Period)
balance_long$Period <- as.numeric(balance_long$Period)
# Exports plot
plot_exports <- ggplot(exports_long, aes(x = Period, y = Exports, color = Country)) +
geom_line() + geom_point() +
labs(title = "U.S. Annual Exports by Country",
x = "Year", y = "Exports (Millions of USD)") +
theme_minimal()
# Imports plot
plot_imports <- ggplot(imports_long, aes(x = Period, y = Imports, color = Country)) +
geom_line() + geom_point() +
labs(title = "U.S. Annual Imports by Country",
x = "Year", y = "Imports (Millions of USD)") +
theme_minimal()
# Trade Balance plot
plot_balance <- ggplot(balance_long, aes(x = Period, y = Balance, color = Country)) +
geom_line() + geom_point() +
geom_hline(yintercept = 0, linetype = "dashed", color = "black") +
labs(title = "U.S. Annual Trade Balance by Country (Exports - Imports)",
x = "Year", y = "Balance (Millions of USD)") +
theme_minimal()
# Display plots
print(plot_exports)
print(plot_imports)
print(plot_balance)
# === Bar Chart: Top 10 Trade Deficits (Jan 2025) ===
trade_deficits <- data.frame(
Country_Region = c("Total Balance of Payments Basis", "Total Census Basis", "Pacific Rim Countries",
"Europe", "China", "North America", "European Union",
"Other Countries", "Switzerland", "Euro Area"),
Balance = c(-154481.0, -153281.0, -60334.0, -46524.0, -31738.0,
-25630.0, -23281.0, -22673.0, -22122.0, -21212.0)
)
# Bar plot of trade deficits
ggplot(trade_deficits, aes(x = reorder(Country_Region, Balance), y = Balance)) +
geom_bar(stat = 'identity', fill = 'coral') +
coord_flip() +
labs(title = 'Top 10 U.S. Trade Deficits by Country (January 2025)',
x = 'Country/Region', y = 'Trade Balance (Millions of USD)') +
theme_minimal() +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
axis.text.y = element_text(size = 10))
# === Bar Chart: Top 10 Trade Deficits (Jan 2025) ===
file_path <- "exh14.xlsx"
# Read and clean data
trade_data <- read_excel(file_path, sheet = "14", skip = 6, col_names = FALSE)
# Read and clean data
trade_data <- read_excel(file_path, sheet = "14", skip = 6, col_names = FALSE)
# === Bar Chart: Top 10 Trade Deficits (Jan 2025) ===
file_path <- "/home/isaac/Code/School/DS101/tariff/ft900xlsx"
# Read and clean data
trade_data <- read_excel(file_path, sheet = "14", skip = 6, col_names = FALSE)
# === Bar Chart: Top 10 Trade Deficits (Jan 2025) ===
file_path <- "ft900xlsx/exh14.xlsx"
# Read and clean data
trade_data <- read_excel(file_path, sheet = "14", skip = 6, col_names = FALSE)
# Set proper column names
colnames(trade_data) <- c("Country_Region", "Balance_Jan2025", "Balance_Dec2024",
"Exports_Jan2025", "Exports_Dec2024", "X1",
"Imports_Jan2025", "Imports_Dec2024", "X2", "X3")
# Filter relevant data and convert balance to numeric
trade_data <- trade_data[!is.na(trade_data$Balance_Jan2025), c("Country_Region", "Balance_Jan2025")]
trade_data$Balance_Jan2025 <- as.numeric(trade_data$Balance_Jan2025)
# Select top 10 deficits
trade_deficits <- head(trade_data[order(trade_data$Balance_Jan2025), ], 10)
# Plot visualization
ggplot(trade_deficits, aes(x = reorder(Country_Region, Balance_Jan2025), y = Balance_Jan2025)) +
geom_bar(stat = 'identity', fill = 'coral') +
coord_flip() +
labs(title = 'Top 10 U.S. Trade Deficits by Country (January 2025)',
x = 'Country/Region',
y = 'Trade Balance (Millions of USD)') +
theme_minimal() +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
axis.text.y = element_text(size = 10))
# Display plots
print(plot_exports)
print(plot_imports)
print(plot_balance)
# === Bar Chart: Top 10 Trade Deficits (Jan 2025) ===
file_path <- "ft900xlsx/exh14.xlsx"
# Read and clean data
trade_data <- read_excel(file_path, sheet = "14", skip = 6, col_names = FALSE)
# Set proper column names
colnames(trade_data) <- c("Country_Region", "Balance_Jan2025", "Balance_Dec2024",
"Exports_Jan2025", "Exports_Dec2024", "X1",
"Imports_Jan2025", "Imports_Dec2024", "X2", "X3")
# Filter relevant data and convert balance to numeric
trade_data <- trade_data[!is.na(trade_data$Balance_Jan2025), c("Country_Region", "Balance_Jan2025")]
trade_data$Balance_Jan2025 <- as.numeric(trade_data$Balance_Jan2025)
# Select top 10 deficits
trade_deficits <- head(trade_data[order(trade_data$Balance_Jan2025), ], 10)
# Plot visualization
ggplot(trade_deficits, aes(x = reorder(Country_Region, Balance_Jan2025), y = Balance_Jan2025)) +
geom_bar(stat = 'identity', fill = 'coral') +
coord_flip() +
labs(title = 'Top 10 U.S. Trade Deficits by Country (January 2025)',
x = 'Country/Region',
y = 'Trade Balance (Millions of USD)') +
theme_minimal() +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
axis.text.y = element_text(size = 10))
# ========== SETUP ==========
# Load necessary libraries
library(readxl)
library(ggplot2)
library(reshape2)
library(dplyr)
# ========== SECTION 1: EXPORTS, IMPORTS, BALANCE ==========
# Load export and import data (adjust paths if needed)
exports <- read_excel("trad-geo-time-series-0125.xlsx", sheet = "Table 1", skip = 5)
imports <- read_excel("trad-geo-time-series-0125.xlsx", sheet = "Table 2", skip = 5)
# Filter for valid years only
valid_years <- function(df) {
df[!is.na(df$Period) & grepl("^[0-9]{4}$", df$Period), ]
}
exports <- valid_years(exports)
imports <- valid_years(imports)
# Select countries of interest
selected_countries <- c('Period', 'Canada', 'China', 'Germany', 'European Union', 'Mexico', 'Japan')
exports_selected <- exports[, selected_countries]
imports_selected <- imports[, selected_countries]
# Calculate Trade Balance
trade_balance <- exports_selected
trade_balance[,-1] <- exports_selected[,-1] - imports_selected[,-1]
# Reshape for plotting
exports_long <- melt(exports_selected, id.vars = 'Period', variable.name = 'Country', value.name = 'Exports')
imports_long <- melt(imports_selected, id.vars = 'Period', variable.name = 'Country', value.name = 'Imports')
balance_long <- melt(trade_balance, id.vars = 'Period', variable.name = 'Country', value.name = 'Balance')
# Convert Period to numeric
exports_long$Period <- as.numeric(exports_long$Period)
imports_long$Period <- as.numeric(imports_long$Period)
balance_long$Period <- as.numeric(balance_long$Period)
# === Plots ===
# Exports
plot_exports <- ggplot(exports_long, aes(x = Period, y = Exports, color = Country)) +
geom_line() + geom_point() +
labs(title = "U.S. Annual Exports by Country", x = "Year", y = "Exports (Millions of USD)") +
theme_minimal()
# Imports
plot_imports <- ggplot(imports_long, aes(x = Period, y = Imports, color = Country)) +
geom_line() + geom_point() +
labs(title = "U.S. Annual Imports by Country", x = "Year", y = "Imports (Millions of USD)") +
theme_minimal()
# Trade Balance
plot_balance <- ggplot(balance_long, aes(x = Period, y = Balance, color = Country)) +
geom_line() + geom_point() +
geom_hline(yintercept = 0, linetype = "dashed", color = "black") +
labs(title = "U.S. Annual Trade Balance by Country (Exports - Imports)",
x = "Year", y = "Balance (Millions of USD)") +
theme_minimal()
# Show plots
print(plot_exports)
print(plot_imports)
print(plot_balance)
# ========== SECTION 2: TOP 10 TRADE DEFICITS ==========
file_path <- "ft900xlsx/exh14.xlsx"
trade_data <- read_excel(file_path, sheet = "14", skip = 6, col_names = FALSE)
colnames(trade_data) <- c("Country_Region", "Balance_Jan2025", "Balance_Dec2024",
"Exports_Jan2025", "Exports_Dec2024", "X1",
"Imports_Jan2025", "Imports_Dec2024", "X2", "X3")
trade_data <- trade_data[!is.na(trade_data$Balance_Jan2025), c("Country_Region", "Balance_Jan2025")]
trade_data$Balance_Jan2025 <- as.numeric(trade_data$Balance_Jan2025)
# Top 10 deficits
trade_deficits <- head(trade_data[order(trade_data$Balance_Jan2025), ], 10)
# Bar plot
ggplot(trade_deficits, aes(x = reorder(Country_Region, Balance_Jan2025), y = Balance_Jan2025)) +
geom_bar(stat = 'identity', fill = 'coral') +
coord_flip() +
labs(title = 'Top 10 U.S. Trade Deficits by Country (January 2025)',
x = 'Country/Region',
y = 'Trade Balance (Millions of USD)') +
theme_minimal() +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
axis.text.y = element_text(size = 10))
# ========== SECTION 3: WTO TARIFF PROFILE COMPARISON ==========
# WTO Summary Tariff File (adjust path if needed)
wto_tariff <- read_excel("Summ_all_EN_WTP24.xlsx", sheet = "Sheet1", skip = 4)
# ========== SECTION 3: WTO TARIFF PROFILE COMPARISON ==========
# WTO Summary Tariff File (adjust path if needed)
wto_tariff <- read_excel("TraiffProfilesSummary_E/Summ_all_EN_WTP24.xlsx", sheet = "Sheet1", skip = 4)
# ========== SECTION 3: WTO TARIFF PROFILE COMPARISON ==========
# WTO Summary Tariff File (adjust path if needed)
wto_tariff <- read_excel("Summ_all_EN_WTP24.xlsx", sheet = "Sheet1", skip = 4)
# Rename initial columns
colnames(wto_tariff)[1:10] <- c("Country", "BindingCoverage", "AvgBound", "AvgMFN",
"DutyFreeBound", "DutyFreeMFN", "NonAdValoremBound",
"NonAdValoremMFN", "Col9", "Col10")
# Filter key countries
countries_of_interest <- c("United States", "European Union", "China")
wto_selected <- wto_tariff %>%
filter(Country %in% countries_of_interest) %>%
select(Country, AvgMFN, DutyFreeMFN) %>%
mutate(AvgMFN = as.numeric(AvgMFN),
DutyFreeMFN = as.numeric(DutyFreeMFN))
# Tariff Comparison
ggplot(wto_selected, aes(x = Country, y = AvgMFN, fill = Country)) +
geom_bar(stat = "identity") +
labs(title = "Average MFN Applied Tariffs (All Products)",
y = "Tariff (%)", x = "") +
theme_minimal()
# Duty-Free Share Comparison
ggplot(wto_selected, aes(x = Country, y = DutyFreeMFN, fill = Country)) +
geom_bar(stat = "identity") +
labs(title = "Duty-Free Import Share by Country",
y = "Percent of Goods Imported Duty-Free", x = "") +
theme_minimal()
# ========== SECTION 3: WTO TARIFF PROFILE COMPARISON ==========
wto_data <- data.frame(
Country = c("China", "European Union", "United States"),
AvgMFN = c(7.5, 5.0, 3.3),
DutyFree = c(9.7, 29.3, 47.5)
)
# === Plot 1: Average MFN Applied Tariffs ===
ggplot(wto_data, aes(x = reorder(Country, -AvgMFN), y = AvgMFN, fill = Country)) +
geom_bar(stat = "identity") +
labs(title = "Average MFN Applied Tariffs (All Products)",
y = "Tariff (%)", x = "") +
theme_minimal()
# === Plot 2: Duty-Free Import Share ===
ggplot(wto_data, aes(x = reorder(Country, -DutyFree), y = DutyFree, fill = Country)) +
geom_bar(stat = "identity") +
labs(title = "Duty-Free Import Share by Country",
y = "Percent of Goods Imported Duty-Free", x = "") +
theme_minimal()
# ========== SETUP ==========
# Load necessary libraries
library(readxl)
library(ggplot2)
library(reshape2)
library(dplyr)
# Load export and import data
exports <- read_excel("trad-geo-time-series-0125.xlsx", sheet = "Table 1", skip = 5)
imports <- read_excel("trad-geo-time-series-0125.xlsx", sheet = "Table 2", skip = 5)
# Filter for valid years
valid_years <- function(df) {
df[!is.na(df$Period) & grepl("^[0-9]{4}$", df$Period), ]
}
exports <- valid_years(exports)
imports <- valid_years(imports)
# Select countries of interest
countries <- c('Period', 'Canada', 'China', 'Germany', 'European Union', 'Mexico', 'Japan')
exports_selected <- exports[, countries]
imports_selected <- imports[, countries]
# Calculate trade balance (Exports - Imports)
trade_balance <- exports_selected
trade_balance[,-1] <- exports_selected[,-1] - imports_selected[,-1]
# Reshape data for plotting
exports_long <- melt(exports_selected, id.vars = 'Period', variable.name = 'Country', value.name = 'Exports')
imports_long <- melt(imports_selected, id.vars = 'Period', variable.name = 'Country', value.name = 'Imports')
balance_long <- melt(trade_balance, id.vars = 'Period', variable.name = 'Country', value.name = 'Balance')
# Convert Period to numeric
exports_long$Period <- as.numeric(exports_long$Period)
imports_long$Period <- as.numeric(imports_long$Period)
balance_long$Period <- as.numeric(balance_long$Period)
# === Plots ===
# Plot: Exports
ggplot(exports_long, aes(x = Period, y = Exports, color = Country)) +
geom_line() + geom_point() +
labs(title = "U.S. Annual Exports by Country", x = "Year", y = "Exports (Millions of USD)") +
theme_minimal()
# Plot: Imports
ggplot(imports_long, aes(x = Period, y = Imports, color = Country)) +
geom_line() + geom_point() +
labs(title = "U.S. Annual Imports by Country", x = "Year", y = "Imports (Millions of USD)") +
theme_minimal()
# Plot: Trade Balance
ggplot(balance_long, aes(x = Period, y = Balance, color = Country)) +
geom_line() + geom_point() +
geom_hline(yintercept = 0, linetype = "dashed", color = "black") +
labs(title = "U.S. Annual Trade Balance by Country (Exports - Imports)",
x = "Year", y = "Balance (Millions of USD)") +
theme_minimal()
# Load trade balance data
trade_data <- read_excel("ft900xlsx/exh14.xlsx", sheet = "14", skip = 6, col_names = FALSE)
# Rename and select relevant columns
colnames(trade_data) <- c("Country_Region", "Balance_Jan2025", "Balance_Dec2024",
"Exports_Jan2025", "Exports_Dec2024", "X1",
"Imports_Jan2025", "Imports_Dec2024", "X2", "X3")
trade_data <- trade_data[!is.na(trade_data$Balance_Jan2025), c("Country_Region", "Balance_Jan2025")]
trade_data$Balance_Jan2025 <- as.numeric(trade_data$Balance_Jan2025)
# Get top 10 trade deficits
trade_deficits <- head(trade_data[order(trade_data$Balance_Jan2025), ], 10)
# Plot: Top 10 Trade Deficits
ggplot(trade_deficits, aes(x = reorder(Country_Region, Balance_Jan2025), y = Balance_Jan2025)) +
geom_bar(stat = 'identity', fill = 'coral') +
coord_flip() +
labs(title = 'Top 10 U.S. Trade Deficits by Country (January 2025)',
x = 'Country/Region',
y = 'Trade Balance (Millions of USD)') +
theme_minimal() +
theme(panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
axis.text.y = element_text(size = 10))
# WTO tariff data
wto_data <- data.frame(
Country = c("China", "European Union", "United States"),
AvgMFN = c(7.5, 5.0, 3.3),
DutyFree = c(9.7, 29.3, 47.5)
)
# Plot: Average MFN Applied Tariffs
ggplot(wto_data, aes(x = reorder(Country, -AvgMFN), y = AvgMFN, fill = Country)) +
geom_bar(stat = "identity") +
labs(title = "Average MFN Applied Tariffs (All Products)",
y = "Tariff (%)", x = "") +
theme_minimal()
# Plot: Duty-Free Import Share
ggplot(wto_data, aes(x = reorder(Country, -DutyFree), y = DutyFree, fill = Country)) +
geom_bar(stat = "identity") +
labs(title = "Duty-Free Import Share by Country",
y = "Percent of Goods Imported Duty-Free", x = "") +
theme_minimal()
